
launch:
  - arg:
      name: robot_name
      default: $(env CABOT_INFLUXDB_ROBOT_NAME cabot)
  - arg:
      name: battery_topic
      default: $(env CABOT_INFLUXDB_BATTERY_TOPIC "/cabot/battery")
  - arg:
      name: image_left_topic
      default: $(env CABOT_INFLUXDB_IMAGE_LEFT_TOPIC "")
  - arg:
      name: image_center_topic
      default: $(env CABOT_INFLUXDB_IMAGE_CENTER_TOPIC "/camera/color/image_raw")
  - arg:
      name: image_right_topic
      default: $(env CABOT_INFLUXDB_IMAGE_RIGHT_TOPIC "")
  - arg:
      name: pose_interval
      default: $(env CABOT_INFLUXDB_POSE_INTERVAL 1.0)
  - arg:
      name: cmd_vel_interval
      default: $(env CABOT_INFLUXDB_CMD_VEL_INTERVAL 0.2)
  - arg:
      name: odom_interval
      default: $(env CABOT_INFLUXDB_ODOM_INTERVAL 0.2)
  - arg:
      name: diag_agg_interval
      default: $(env CABOT_INFLUXDB_DIAG_AGG_INTERVAL 1.0)
  - arg:
      name: battery_interval
      default: $(env CABOT_INFLUXDB_BATTERY_INTERVAL 1.0)
  - arg:
      name: image_interval
      default: $(env CABOT_INFLUXDB_IMAGE_INTERVAL 5.0)
  - arg:
      name: host
      default: $(env CABOT_INFLUXDB_HOST http://localhost:8086)
  - arg:
      name: token
      default: $(env CABOT_INFLUXDB_TOKEN a54a87f7-73a0-4534-9741-ad7ff4e7d111)
  - arg:
      name: org
      default: $(env CABOT_INFLUXDB_ORG cabot)
  - arg:
      name: bucket
      default: $(env CABOT_INFLUXDB_BUKET cabot)
  - arg:
      name: anchor_file
      default: /home/developer/ros2_ws/src/anchor_file.yaml

  - node:
      pkg: cabot_influxdb_client
      exec: client_node
      name: client_node
      param:
        -
          name: robot_name
          value: $(var robot_name)
        -
          name: battery_topic
          value: $(var battery_topic)
        -
          name: image_left_topic
          value: $(var image_left_topic)
        -
          name: image_center_topic
          value: $(var image_center_topic)
        -
          name: image_right_topic
          value: $(var image_right_topic)
        -
          name: pose_interval
          value: $(var pose_interval)
        -
          name: cmd_vel_interval
          value: $(var cmd_vel_interval)
        -
          name: odom_interval
          value: $(var odom_interval)
        -
          name: diag_agg_interval
          value: $(var diag_agg_interval)
        -
          name: battery_interval
          value: $(var battery_interval)
        -
          name: image_interval
          value: $(var image_interval)
        -
          name: host
          value: $(var host)
        -
          name: token
          value: $(var token)
        -
          name: org
          value: $(var org)
        -
          name: bucket
          value: $(var bucket)
        -
          name: anchor_file
          value: $(var anchor_file)
